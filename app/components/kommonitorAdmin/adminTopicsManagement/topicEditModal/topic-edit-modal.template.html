<div class="modal fade" id="modal-edit-topic" role="dialog">
	<div class="modal-dialog modal-xl">
		<div class="modal-content">

			<div align="center">
				<div class="loading-overlay-admin-panel ng-hide" ng-show="loadingData">
							<span class="glyphicon glyphicon-refresh icon-spin"></span>
				</div>
			</div>


			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">Metadaten des Themeneintrags <i><b>{{currentTopic.topicName}}</b></i> editieren</h4>
			</div>
			<div class="modal-body">

				<!-- MultiStep Form -->
				<div class="row">
					<div class="col-md-12">
						<form class="multiStepForm form-group" id="topicEditForm" role="form" data-toggle="validator" data-disable="true" style="margin-bottom: 0px;">
							<!-- progressbar -->
							<div ng-if="$ctrl.kommonitorDataExchangeServiceInstance.enableKeycloakSecurity">
								<ul id="progressbar">
									<li style="width: 50%;" class="active">Metadaten des Themeneintrags</li>
									<li style="width: 50%;">Zugriffsschutz</li>
								</ul>
							</div>
							
							<!-- fieldsets -->
							<fieldset>
								<h2 class="fs-title">Allgemeine Metadaten</h2>
								<p><b><i>* = Pflichtfeld</i></b></p>

								<div class="row vertical-align">
									<div class="col-md-5">
										<label >Name des Eintrags*</label>
										<input style="width:100%;" class="form-control" type="text" placeholder="Titel des Eintrags" ng-model="metadata.name" required></input>
										<div class="help-block with-errors"></div>
									</div>
									<div class="col-md-7">
										<label >Beschreibung des Eintrags*</label>
										<textarea style="width:100%;" rows="5" class="form-control" type="text" placeholder="Beschreibung des Eintrags" ng-model="metadata.description" required></textarea>
										<div class="help-block with-errors"></div>
									</div>
								</div>
								<input type="button" name="previous" class="previous previous_addSpatialUnit action-button-previous" value="Voriger Schritt"/>
								<input type="button" name="next" class="next next_addSpatialUnit action-button" value="N&auml;chster Schritt"/>
							</fieldset>
							
							<fieldset ng-if="$ctrl.kommonitorDataExchangeServiceInstance.enableKeycloakSecurity">
								<h2 class="fs-title">Zugriffsschutz</h2>
								<h3 class="fs-subtitle">Vergabe von Standard-Zugriffsrechten auf mit diesem Thema verkn&uuml;pfte Datens&auml;tze</h3>

								<br>

								<div class="row vertical-align">
									<div class="col-md-3">
										<label>&Ouml;ffentliche Lesefreigabe*</label>
										<label class="switch">
											<input type="checkbox" ng-model="metadata.isPublic">
											<span class="switchslider round"></span>
										</label>
										<div class="help-block">
											<p>
												&Ouml;ffentlich freigegebene Datens&auml;tze k&ouml;nnen ohne Login abgerufen werden.
											</p>
										</div>
									</div>
									<div class="col-md-6 col-sm-6 col-xs-12">
											<!-- <div id="spatialUnitAddRoleManagementTable" style="height: 40vh; overflow-y: auto;" class="ag-theme-alpine"></div>     -->
											<div id="topicEditRoleManagementTable" style="height: 45vh" class="ag-theme-alpine"></div>  
										
									</div>
									<div class="col-md-3">
									</div>
								</div>	
								
								<input type="button" name="previous" class="previous previous_addSpatialUnit action-button-previous" value="Voriger Schritt"/>
								<input type="button" name="next" class="next next_addSpatialUnit action-button" value="N&auml;chster Schritt"/>
							</fieldset>			
						</form>
					</div>
				</div>
				<!-- /.MultiStep Form -->



			<!--
				<p><b><i>* = Pflichtfeld</i></b></p>
  <form role="form" class="form-group" data-toggle="validator" style="margin-bottom: 0px;">
				<h4>Themen Metadaten</h4>

				<div class="row vertical-align">
					<div class="col-md-5">
						<label >Name des Eintrags*</label>
						<input style="width:100%;" class="form-control" type="text" placeholder="Titel des Eintrags" ng-model="currentTopic.topicName" required></input>
						<div class="help-block with-errors"></div>
					</div>
					<div class="col-md-7">
						<label >Beschreibung des Eintrags*</label>
						<textarea style="width:100%;" rows="5" class="form-control" type="text" placeholder="Beschreibung des Eintrags" ng-model="currentTopic.topicDescription" required></textarea>
						<div class="help-block with-errors"></div>
					</div>

				</div>

				</form> -->

				<!-- ng-disabled="((!customWfsTitle) || (!customWfsDescription) || (!customWfsUrl) || (!customWfsLayerName))" -->

			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default pull-left" data-dismiss="modal">Schlie&szlig;en</button>
					<button type="button" class="btn btn-success" ng-disabled="!metadata.name || !metadata.description" ng-click="updateTopic()">Eintrag aktualisieren</button>
					<button type="button" class="btn btn-danger" ng-click="resetTopicEditForm()">Zur&uuml;cksetzen</button>
			</div>

			<div id="topicEditMetadataSuccessAlert" style="position: absolute; bottom: 0px; width: 100%;" hidden class="alert alert-success alert-dismissable">
                <button type="button" class="close" ng-click="hideSuccessAlert()" aria-hidden="true">&times;</button>
                <h4><i class="icon fa fa-check"></i>Themeneintrag aktualisiert</h4>
                Die Metadaten des Eintrags mit Namen {{currentTopic.topicName}} wurden in KomMonitor aktualisiert.
      </div>

			<div id="topicEditMetadataErrorAlert" style="position: absolute; bottom: 0px; width: 100%;" hidden class="alert alert-danger alert-dismissable">
                <button type="button" class="close" ng-click="hideErrorAlert()" aria-hidden="true">&times;</button>
                <h4><i class="icon fa fa-ban"></i>Aktualisierung gescheitert</h4>
                Bei der Aktualisierung der Metadaten des Themeneintrags ist ein Fehler aufgetreten. Fehlermeldung:
								<br/>
								<pre>{{errorMessagePart}}</pre>.
      </div>

		</div>
		<!-- /.modal-content -->
	</div>
	<!-- /.modal-dialog -->
</div>
<!-- /.modal -->
