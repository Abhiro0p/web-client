<div class="row vertical-align">
  <div class="col-md-12 col-sm-12 col-xs-12">
    <div class="form-group">
      <label>Auswahl der f&uuml;r die Berechnung erforderlichen (Basis-)Indikatoren</label>
      <div class="input-group">
        <span class="input-group-addon"><i class="fas fa-filter"></i></span>
        <input type="text" class="form-control input-sm" placeholder="Stichwortfilter" ng-model-options="{debounce: 500, blur: 0}"
          ng-model="$parent.indicatorNameFilter">
      </div>
      <br />
      <select ng-model="$parent.tmpIndicatorSelection" size="5"
        ng-options="indicatorMetadata as indicatorMetadata.indicatorName for indicatorMetadata in $ctrl.kommonitorDataExchangeServiceInstance.availableIndicators | filter:indicatorNameFilter"
        class="form-control">
        <option disabled selected value> -- Indikator als Berechnungsgrundlage w&auml;hlen --
        </option>
      </select>
      <div class="help-block with-errors"></div>
    </div>
  </div>
</div>

<div class="row vertical-align">
  <div class="col-md-6 col-sm-6 col-xs-12">
    <div class="form-group">
      <label>ID des selektierten Indikators</label>
      <input type="text" class="form-control input-sm" disabled placeholder="IndikatorenId"
        ng-model="$parent.tmpIndicatorSelection.indicatorId">
      <div class="help-block with-errors"></div>
    </div>
  </div>
  <div class="col-md-6 col-sm-6 col-xs-12">
    <div class="form-group">
      <label>Name des selektierten Indikators</label>
      <input type="text" class="form-control input-sm" disabled placeholder="IndikatorenName"
        ng-model="$parent.tmpIndicatorSelection.indicatorName">
      <div class="help-block with-errors"></div>
    </div>
  </div>
</div>

<div class="row vertical-align">
  <div class="col-md-3 col-sm-6 col-xs-12">
    <div class="form-group">
      <button class="btn btn-success btn-sm" ng-disabled="!$parent.tmpIndicatorSelection"
        ng-click="$parent.addBaseIndicator($parent.tmpIndicatorSelection)">Hinzuf&uuml;gen</button>
      <div class="help-block with-errors"></div>
    </div>
  </div>
</div>

<br />
<br />

<!-- Table to display currently specified base indicators -->
<div class="row vertical-align">
  <div class="col-md-12 col-sm-12 col-xs-12">
    <label>&Uuml;bersicht der definierten (Basis-)Indikatoren</label>
    <table class="table table-condensed">
      <thead>
        <tr>
          <th>Editierfunktionen</th>
          <th>ID des Indikators</th>
          <th>Name des Indikators</th>
          <th>Beschreibung</th>
          <th>Einheit</th>
        </tr>
      </thead>
      <tbody>
        <tr
          ng-repeat="baseIndicator in $parent.baseIndicators">
          <td>
            <div class="btn-group btn-group-sm">
              <button class="btn btn-danger btn-sm" type="button"
                ng-click="$parent.removeBaseIndicator(baseIndicator)"
                title="Eintrag l&ouml;schen"><i class="fas fa-trash"></i></button>
            </div>
          </td>
          <td>{{baseIndicator.indicatorId}}</td>
          <td>{{baseIndicator.indicatorName}}</td>
          <td>{{baseIndicator.metadata.description}}</td>
          <td>{{baseIndicator.unit}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<script>
	$('.box').boxWidget();
</script>