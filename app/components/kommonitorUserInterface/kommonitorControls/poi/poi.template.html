<div id="poi">

	<div align="center">
		<div class="loading-overlay-sidebar-small ng-hide" ng-show="loadingData">
					<span class="glyphicon glyphicon-refresh icon-spin"></span>
		</div>
	</div>

	<p></p>

<!-- POINTS OF INTEREST -->
	<div class="box box-primary">
		<div class="box-header with-border">
			<h3 class="box-title">Points of Interest</h3>

			<div class="box-tools pull-right">
				<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
				</button>
			</div>
		</div>
		<div class="box-body">

			<div class="" >

					<!-- <p>Selektieren eines Eintrags aus unten stehender Liste f&uuml;gt den entsprechenden Punkt-Layer der Kartendarstellung hinzu. Deselektion entfernt den entsprechenden Layer aus der Kartendarstellung.</p> -->

					<div class="input-group">
						<span class="input-group-addon"><i class="fas fa-filter"></i></span>
						<input type="text" class="form-control input-sm" placeholder="Filtern nach POI-Name" ng-model="poiNameFilter">
					</div>

					<br/>

					<div  id="poiInputForm">

						<table class="table table-condensed" style="margin-bottom:0px;">
					    <thead>
					      <tr>
					        <th>Datensatz</th>
					        <th>Export</th>
					      </tr>
					    </thead>

							<tbody>

								<tr ng-repeat='poi in $ctrl.kommonitorDataExchangeServiceInstance.availableGeoresources | filter:filterGeoresourcesByPoi() | filter:filterPois() | filter:poiNameFilter'>
									<!-- <span style="font-size:1.8em;" class="glyphicon glyphicon-th" aria-hidden="true"></span> -->
									<td>
										<label class='checkbox-inline' ><input type="checkbox" value="poi.datasetName" ng-model="poi.isSelected" ng-change="handlePoiOnMap(poi)">
											<i class="awesome-marker-legend awesome-marker-legend-icon-{{poi.poiMarkerColor}}">
												<span style="margin-left:3px; font-size:0.7em; color:{{poi.poiSymbolColor}};" align="center" class="glyphicon glyphicon-{{poi.poiSymbolBootstrap3Name}}" aria-hidden="true"></span>
											</i>

											<b>&nbsp;&nbsp;{{poi.datasetName}}</b> &mdash; {{poi.metadata.description}}
										</label>
									</td>
									<td>
										<a href="" ng-click="getExportLinkForPoi(poi)" title="Download as GeoJSON"><i class="fas fa-file-download"></i></a>
										<!-- <a ng-href="getExportLinkForPoi(poi)" title="Download as GeoJSON"><i class="fas fa-file-download"></i></a> -->
									</td>
								</tr>
							</tbody>
						</table>
						</div>

						<br/>

						<div align="center">

							<b title="Checkbox zur Wahl, ob die einzelnen Punkte eines POI Layers geclustered werden sollen">Kartenstandorte clustern</b> (Zusammenfassung mehrerer Punkte je nach Zoomstufe)
							&nbsp;
							<label class="switch">
								<input type="checkbox" value="useCluster" ng-model="useCluster" ng-change="refreshPoiLayers()" checked>
								<span class="switchslider round"></span>
							</label>

						</div>

			</div>

		</div>
		<!-- /.box-body -->

	</div>
	<!-- /.box -->


	<!-- LINES OF INTEREST -->
		<div class="box box-primary collapsed-box">
			<div class="box-header with-border">
				<h3 class="box-title">Lines of Interest</h3>

				<div class="box-tools pull-right">
					<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i>
					</button>
				</div>
			</div>
			<div class="box-body">

				<div class="" >

							<div align="center">
								<p>TODO - Under Development</p>
								<strong>in Zukunft verf&uuml;gbar</strong>
							</div>

							<br/><br/>

				</div>

			</div>
			<!-- /.box-body -->
		</div>
		<!-- /.box -->


		<!-- AREAS OF INTEREST -->
			<div class="box box-primary collapsed-box">
				<div class="box-header with-border">
					<h3 class="box-title">Areas of Interest</h3>

					<div class="box-tools pull-right">
						<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i>
						</button>
					</div>
				</div>
				<div class="box-body">

					<div class="" >

								<div align="center">
									<p>TODO - Under Development</p>
									<strong>in Zukunft verf&uuml;gbar</strong>
								</div>

								<br/><br/>

					</div>

				</div>
				<!-- /.box-body -->
			</div>
			<!-- /.box -->


			<!-- WMS -->
				<div style="margin-bottom: 0px;" class="box box-primary collapsed-box">
					<div class="box-header with-border">
						<h3 class="box-title">Web Map Service (WMS)</h3>

						<div class="box-tools pull-right">
							<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i>
							</button>
						</div>
					</div>
					<div class="box-body">

											<!-- <div class="hiddenTableCell">

												<div text-align="center" align="center" class="hiddenTableContent">
														<select
															size="10" ng-model="kommonitorDataExchangeService.selectedWMSDataset" ng-options="dataset as dataset.title for dataset in kommonitorDataExchangeService.wmsDatasets"
															ng-change="onChangeSelectedWmsDataset()" class="form-control" required>
															<option disabled selected value> -- WMS Datensatz w&auml;hlen -- </option>
														</select>
												</div>

											</div> -->

											<div class="input-group">
												<span class="input-group-addon"><i class="fas fa-filter"></i></span>
												<input type="text" class="form-control input-sm" placeholder="Filtern nach WMS-Name" ng-model="wmsNameFilter">
											</div>

											<br/>

											<div  id="wmsInputForm">

												<table class="table table-condensed" style="margin-bottom:0px;">
											    <thead>
											      <tr>
											        <th>Datensatz</th>
											        <th>Beschreibung</th>
															<th>Legende</th>
															<th>Layer Transparenz</th>
															<th>WMS URL</th>
											      </tr>
											    </thead>

													<tbody>

														<tr ng-repeat='dataset in $ctrl.kommonitorDataExchangeServiceInstance.wmsDatasets | filter:wmsNameFilter | orderBy:"title"'>
															<!-- <span style="font-size:1.8em;" class="glyphicon glyphicon-th" aria-hidden="true"></span> -->
															<td>
																<label class='checkbox-inline' ><input type="checkbox" value="dataset.title" ng-model="dataset.isSelected" ng-change="handleWmsOnMap(dataset)">

																	<b ng-bind-html="dataset.title"></b>
																</label>
															</td>
															<td>
																<p ng-bind-html="dataset.description"></p>
															</td>
															<td>
																<img src="{{dataset.url}}REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=20&HEIGHT=20&LAYER={{dataset.layerName}}">
															</td>
															<td>
																<div class="form-group" align="center">

																	<input class="form-control input-sm" ng-model="dataset.transparency" ng-init="dataset.transparency=0" ng-change="adjustWMSLayerTransparency(dataset)" type="range"  min="0" max="1" step="0.01">

																	<br/>

																	<label>{{dataset.transparency}}</label>
																</div>
															</td>
															<td>
																<div align="center">
																<a href="{{dataset.url}}service=WMS&request=GetCapabilities&version=1.3.0" title="WMS GetCapabilities URL" rel='noopener noreferrer' target='_blank'><i class="fas fa-cloud-download-alt"></i></a>
																</div>
															</td>
														</tr>
													</tbody>
												</table>
												</div>

												<br/>

											<div align="center">

												<button class="btn btn-success" type="button" data-toggle="modal" data-target="#modal-add-wms">Eigenen WMS hinzuladen</button>

											</div>

	              </div>
	              <!-- /.box-body -->

						</div>

					</div>
					<!-- /.box-body -->
				</div>
				<!-- /.box -->


</div>
